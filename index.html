<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ë¡œë˜ ë²ˆí˜¸ ì¶”ì²œê¸°</title>
  <meta name="description" content="ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ 1~45 ì¤‘ì—ì„œ ì¤‘ë³µë˜ì§€ ì•ŠëŠ” 6ê°œì˜ ìˆ«ìë¥¼ ë¬´ì‘ìœ„ë¡œ ì¶”ì²œí•´ ë“œë¦½ë‹ˆë‹¤ (ë‹¨ì¼ HTML í˜ì´ì§€ ë²„ì „)." />

  <style>
    :root{
      --bg:#0b1220;
      --card:#111a2d;
      --text:#e9eefc;
      --muted:#b7c3e6;
      --line:rgba(255,255,255,.12);
      --shadow: 0 12px 30px rgba(0,0,0,.35);
      --radius: 18px;
      --accent:#6ea8ff;
      --accent2:#70ffc4;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans SC", "Microsoft YaHei", Arial, sans-serif;
      background: radial-gradient(1200px 600px at 10% 0%, rgba(110,168,255,.22), transparent 60%),
                  radial-gradient(900px 500px at 90% 10%, rgba(112,255,196,.12), transparent 55%),
                  var(--bg);
      color:var(--text);
      line-height:1.6;
    }
    .container{max-width:1100px; margin:0 auto; padding:24px}

    /* 2ì—´ ë ˆì´ì•„ì›ƒ: ì™¼ìª½(ì¶”ì²¨ê¸°) / ì˜¤ë¥¸ìª½(ìµœê·¼ ì¶”ì²œ) */
    .top-grid{
      display:grid;
      grid-template-columns: 1.55fr .95fr;
      gap: 14px;
      align-items:start;
    }
    @media (max-width: 900px){
      .top-grid{grid-template-columns:1fr}
    }

    .card{
      background: rgba(17,26,45,.78);
      border:1px solid var(--line);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 18px;
    }
    header{
      display:flex;
      align-items:flex-end;
      justify-content:space-between;
      gap:12px;
      margin: 0 0 12px;
    }
    h1{
      margin:0;
      font-size: clamp(22px, 3vw, 34px);
      line-height:1.15;
    }
    .subtitle{margin:6px 0 0; color:var(--muted); font-size:14px}

    .row{
      display:flex;
      gap:12px;
      flex-wrap:wrap;
      align-items:center;
      justify-content:space-between;
      margin-top: 12px;
    }
    .controls{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
    }
    .btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:8px;
      padding:12px 14px;
      border-radius: 14px;
      border:1px solid rgba(110,168,255,.35);
      background: rgba(110,168,255,.12);
      color: var(--text);
      cursor:pointer;
      user-select:none;
      transition: transform .08s ease;
      font-weight:600;
    }
    .btn:hover{transform: translateY(-1px)}
    .btn.secondary{
      border-color: rgba(112,255,196,.35);
      background: rgba(112,255,196,.10);
    }
    .btn.ghost{
      border-color: var(--line);
      background: rgba(255,255,255,.04);
      color: var(--muted);
      font-weight:600;
    }
    label{
      display:inline-flex;
      gap:8px;
      align-items:center;
      color: var(--muted);
      font-size: 14px;
      padding: 10px 12px;
      border:1px solid var(--line);
      border-radius: 14px;
      background: rgba(255,255,255,.04);
      user-select:none;
    }
    input[type="checkbox"]{transform: translateY(1px)}

    .numbers{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      margin-top: 14px;
      padding-top: 12px;
      border-top: 1px solid var(--line);
      min-height: 64px;
    }
    .ball{
      width:54px; height:54px;
      border-radius: 999px;
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight:800;
      font-size: 18px;
      border: 1px solid rgba(255,255,255,.16);
      background: rgba(255,255,255,.06);
      box-shadow: 0 10px 24px rgba(0,0,0,.25);
    }
    .meta{
      margin-top: 10px;
      color: var(--muted);
      font-size: 13.5px;
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      align-items:center;
      justify-content:space-between;
    }
    .pill{
      padding:8px 10px;
      border-radius: 999px;
      border: 1px solid var(--line);
      background: rgba(255,255,255,.04);
      color: var(--muted);
      font-size: 13px;
    }

    .list{
      margin:0;
      padding-left: 18px;
      color: var(--muted);
      font-size: 14px;
    }

    /* ìµœê·¼ ì¶”ì²œ */
    .history{
      margin-top: 10px;
      display:flex;
      flex-direction:column;
      gap:8px;
    }
    .history-item{
      display:flex;
      gap:10px;
      align-items:center;
      justify-content:space-between;
      border: 1px solid var(--line);
      background: rgba(255,255,255,.04);
      border-radius: 14px;
      padding: 10px 12px;
      color: var(--muted);
      font-size: 14px;
    }
    .history-item code{
      color: var(--text);
      font-weight:700;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 13.5px;
    }
    .small{color: var(--muted); font-size: 12.5px}

    .toast{
      position: fixed;
      left: 50%;
      bottom: 18px;
      transform: translateX(-50%);
      background: rgba(17,26,45,.92);
      border: 1px solid var(--line);
      color: var(--text);
      padding: 10px 12px;
      border-radius: 14px;
      box-shadow: var(--shadow);
      display:none;
      z-index: 999;
      font-size: 13.5px;
    }

    /* âœ… ë™í–‰ë³µê¶Œ ì•ˆë‚´ ë°•ìŠ¤ */
    .korea-lotto-box{
      margin-top: 14px;
      padding: 14px;
      border-radius: 16px;
      border: 1px solid var(--line);
      background: rgba(255,255,255,.04);
    }
    .korea-lotto-title{
      font-weight: 800;
      letter-spacing: .2px;
      margin-bottom: 6px;
    }
    .korea-lotto-desc{
      color: var(--muted);
      font-size: 14px;
      margin-bottom: 10px;
    }
    .korea-lotto-link{
      display: inline-block;
      padding: 10px 12px;
      border-radius: 14px;
      border: 1px solid var(--line);
      background: rgba(255,255,255,.03);
      color: var(--text);
      font-weight: 700;
      word-break: break-all;
      text-decoration: none;
    }
    .korea-lotto-link:hover{
      border-color: rgba(110,168,255,.35);
      background: rgba(110,168,255,.10);
    }
    .korea-lotto-actions{
      margin-top: 10px;
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }
  </style>
</head>

<body>
  <div class="container">
    <div class="top-grid">
      <!-- ì™¼ìª½: ì¶”ì²œê¸° -->
      <div class="card">
        <header>
          <div>
            <h1>ë¡œë˜ ë²ˆí˜¸ ì¶”ì²œê¸°</h1>
            <p class="subtitle">ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ 1~45 ì¤‘ì—ì„œ ì¤‘ë³µë˜ì§€ ì•ŠëŠ” 6ê°œì˜ ìˆ«ìë¥¼ ë¬´ì‘ìœ„ë¡œ ì¶”ì²œí•´ ë“œë¦½ë‹ˆë‹¤.</p>
          </div>
          <div class="pill" id="updatedAt">-</div>
        </header>

        <div class="row">
          <div class="controls">
            <button class="btn" id="btnPick" type="button">ğŸ² ë²ˆí˜¸ ì¶”ì²œ</button>
            <button class="btn secondary" id="btnCopy" type="button">ğŸ“‹ ë³µì‚¬</button>
            <button class="btn ghost" id="btnReset" type="button">ğŸ§¹ ì´ˆê¸°í™”</button>

            <label title="ì¶”ì²œ ë²ˆí˜¸ë¥¼ ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ì •ë ¬í•©ë‹ˆë‹¤.">
              <input type="checkbox" id="sortAsc" checked />
              ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬
            </label>

            <label title="ìµœê·¼ ì¶”ì²œ ê¸°ë¡ì„ ì €ì¥í•©ë‹ˆë‹¤ (ìµœëŒ€ 5ê°œ).">
              <input type="checkbox" id="saveHistory" checked />
              ê¸°ë¡ ì €ì¥
            </label>
          </div>

          <div class="theme-switch-wrapper">
            <label class="theme-switch" for="checkbox">
              <input type="checkbox" id="checkbox" />
              <div class="slider round"></div>
            </label>
          </div>

          <div class="small" id="hint">
            íŒ: 'ë²ˆí˜¸ ì¶”ì²œ'ì„ ê³„ì† í´ë¦­í•˜ë©´ ìƒˆë¡œìš´ ë²ˆí˜¸ê°€ ìƒì„±ë©ë‹ˆë‹¤.
          </div>
        </div>

        <div class="numbers" id="numbers" aria-label="ì¶”ì²œ ë²ˆí˜¸ í‘œì‹œ ì˜ì—­"></div>

        <div class="korea-lotto-box" aria-label="í•œêµ­ ë¡œë˜ ê³µì‹ ì›¹ì‚¬ì´íŠ¸ ì•ˆë‚´">
          <div class="korea-lotto-title">í•œêµ­ ë¡œë˜ ê³µì‹ ì›¹ì‚¬ì´íŠ¸ (ë™í–‰ë³µê¶Œ)</div>
          <div class="korea-lotto-desc">ì˜¨ë¼ì¸ìœ¼ë¡œ í•œêµ­ ë¡œë˜ë¥¼ êµ¬ë§¤í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</div>

          <a class="korea-lotto-link" href="https://www.dhlottery.co.kr/" target="_blank" rel="noopener noreferrer">
            https://www.dhlottery.co.kr/
          </a>

          <div class="korea-lotto-actions">
            <button class="btn ghost" type="button" id="copyDHL">ë§í¬ ë³µì‚¬</button>
            <a class="btn secondary" href="https://www.dhlottery.co.kr/" target="_blank" rel="noopener noreferrer">ì§€ê¸ˆ ì—´ê¸°</a>
          </div>
        </div>

        <div class="meta">
          <div class="pill" id="status">ëŒ€ê¸° ì¤‘</div>
          <div class="small">â€» ë²ˆí˜¸ëŠ” ë¬´ì‘ìœ„ ì¶”ì²œì´ë©°, ë‹¹ì²¨ì„ ë³´ì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</div>
        </div>
      </div>

      <!-- ì˜¤ë¥¸ìª½: ìµœê·¼ ì¶”ì²œ (5ê°œ í‘œì‹œ) -->
      <div class="card">
        <h2 style="margin:0 0 8px; font-size:18px;">ìµœê·¼ ì¶”ì²œ (5ê°œ í‘œì‹œ)</h2>
        <div class="small">ê¸°ë¡ì€ ë¡œì»¬ ë¸Œë¼ìš°ì €ì— ì €ì¥ë©ë‹ˆë‹¤ (ìƒˆë¡œê³ ì¹¨í•´ë„ ì‚¬ë¼ì§€ì§€ ì•ŠìŒ).</div>
        <div class="history" id="history"></div>

        <div style="margin-top:12px; border-top:1px solid var(--line); padding-top:12px;">
          <h3 style="margin:0 0 8px; font-size:16px;">ì‚¬ìš© ë°©ë²•</h3>
          <ul class="list">
            <li><b style="color:var(--text)">ë²ˆí˜¸ ì¶”ì²œ</b> ì„ í´ë¦­í•˜ì—¬ 6ê°œì˜ ë²ˆí˜¸ ìƒì„±</li>
            <li><b style="color:var(--text)">ë³µì‚¬</b> ë¥¼ í´ë¦­í•˜ì—¬ "1, 2, 3, 4, 5, 6" í˜•ì‹ìœ¼ë¡œ ë³µì‚¬</li>
            <li><b style="color:var(--text)">ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬</b> ë„ë©´ ìƒì„± ìˆœì„œëŒ€ë¡œ í‘œì‹œ</li>
            <li><b style="color:var(--text)">ê¸°ë¡ ì €ì¥</b> ë„ë©´ ìµœê·¼ ì¶”ì²œ ê¸°ë¡ì„ ì €ì¥í•˜ì§€ ì•ŠìŒ</li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <div class="toast" id="toast" role="status" aria-live="polite"></div>

  <script>
    // ===== ë„êµ¬ =====
    const $ = (id) => document.getElementById(id);

    function pad2(n){ return String(n).padStart(2, "0"); }
    function formatTime(d){
      return `${d.getFullYear()}-${pad2(d.getMonth()+1)}-${pad2(d.getDate())} ${pad2(d.getHours())}:${pad2(d.getMinutes())}:${pad2(d.getSeconds())}`;
    }

    function toast(msg){
      const el = $("toast");
      el.textContent = msg;
      el.style.display = "block";
      clearTimeout(toast._t);
      toast._t = setTimeout(() => el.style.display = "none", 1400);
    }

    // ===== ìƒì„±: 1~45 ì¤‘ë³µ ì—†ëŠ” 6ê°œ =====
    function pickLotto(){
      const set = new Set();
      while(set.size < 6){
        const n = Math.floor(Math.random() * 45) + 1;
        set.add(n);
      }
      return Array.from(set);
    }

    // ===== ë²ˆí˜¸ ë Œë”ë§ =====
    function ballGroup(n){
      if(n <= 10) return 1;
      if(n <= 20) return 2;
      if(n <= 30) return 3;
      if(n <= 40) return 4;
      return 5;
    }

    function renderNumbers(nums){
      const wrap = $("numbers");
      wrap.innerHTML = "";
      nums.forEach(n => {
        const div = document.createElement("div");
        div.className = "ball";
        const g = ballGroup(n);
        div.style.background = `rgba(255,255,255,${0.05 + g*0.015})`;
        div.textContent = n;
        wrap.appendChild(div);
      });
    }

    // ===== ìµœê·¼ ì¶”ì²œ: ìµœëŒ€ 5ê°œ =====
    const STORAGE_KEY = "lotto_history_v3_ko";
    const MAX_HISTORY = 5;

    function loadHistory(){
      try{
        const raw = localStorage.getItem(STORAGE_KEY);
        return raw ? JSON.parse(raw) : [];
      }catch(e){
        return [];
      }
    }
    function saveHistory(items){
      localStorage.setItem(STORAGE_KEY, JSON.stringify(items.slice(0, MAX_HISTORY)));
    }

    function renderHistory(){
      const items = loadHistory();
      const box = $("history");
      box.innerHTML = "";

      if(items.length === 0){
        const empty = document.createElement("div");
        empty.className = "small";
        empty.style.marginTop = "10px";
        empty.textContent = "ê¸°ë¡ ì—†ìŒ. ë¨¼ì € 'ë²ˆí˜¸ ì¶”ì²œ'ì„ í´ë¦­í•´ ë³´ì„¸ìš”!";
        box.appendChild(empty);
        return;
      }

      items.slice(0, MAX_HISTORY).forEach(item => {
        const row = document.createElement("div");
        row.className = "history-item";

        const left = document.createElement("div");
        left.innerHTML = `<div class="small">${item.time}</div><code>${item.text}</code>`;

        const right = document.createElement("button");
        right.className = "btn ghost";
        right.type = "button";
        right.style.padding = "8px 10px";
        right.textContent = "ë³µì‚¬";
        right.addEventListener("click", async () => {
          await copyText(item.text);
        });

        row.appendChild(left);
        row.appendChild(right);
        box.appendChild(row);
      });
    }

    // ===== ë³µì‚¬ =====
    async function copyText(text){
      try{
        await navigator.clipboard.writeText(text);
        toast("ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!");
      }catch(e){
        prompt("ìë™ ë³µì‚¬ ì‹¤íŒ¨. ì•„ë˜ ë‚´ìš©ì„ ìˆ˜ë™ìœ¼ë¡œ ë³µì‚¬í•˜ì„¸ìš”:", text);
      }
    }

    // âœ… DHLottery ë§í¬ ë³µì‚¬ (í† ìŠ¤íŠ¸ë„ í•œêµ­ì–´)
    const copyDHLBtn = document.getElementById("copyDHL");
    if(copyDHLBtn){
      copyDHLBtn.addEventListener("click", async () => {
        const url = "https://www.dhlottery.co.kr/";
        try{
          await navigator.clipboard.writeText(url);
          toast("ë§í¬ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!");
        }catch(e){
          prompt("ìë™ ë³µì‚¬ ì‹¤íŒ¨. ì•„ë˜ ë‚´ìš©ì„ ìˆ˜ë™ìœ¼ë¡œ ë³µì‚¬í•˜ì„¸ìš”:", url);
        }
      });
    }

    // ===== ìƒíƒœ & ì´ˆê¸°í™” =====
    function setStatus(msg){
      $("status").textContent = msg;
    }

    function resetAll(){
      $("numbers").innerHTML = "";
      localStorage.removeItem(STORAGE_KEY);
      renderHistory();
      setStatus("ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤");
      toast("ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤");
    }

    // ===== ì´ë²¤íŠ¸ =====
    let lastNums = [];

    $("btnPick").addEventListener("click", () => {
      const nums = pickLotto();
      const finalNums = $("sortAsc").checked ? [...nums].sort((a,b)=>a-b) : nums;

      renderNumbers(finalNums);
      lastNums = finalNums;

      const now = new Date();
      const text = finalNums.join(", ");
      setStatus(`ì¶”ì²œ ì™„ë£Œ: ${text}`);

      if($("saveHistory").checked){
        const items = loadHistory();
        items.unshift({ time: formatTime(now), text });
        saveHistory(items);
        renderHistory();
      }
    });

    $("btnCopy").addEventListener("click", async () => {
      if(!lastNums.length){
        toast("ë¨¼ì € 'ë²ˆí˜¸ ì¶”ì²œ'ì„ í´ë¦­í•´ ì£¼ì„¸ìš”!");
        return;
      }
      await copyText(lastNums.join(", "));
    });

    $("btnReset").addEventListener("click", () => {
      if(confirm("ì¶”ì²œ ë²ˆí˜¸ì™€ ìµœê·¼ ê¸°ë¡ì„ ëª¨ë‘ ì§€ìš°ì‹œê² ìŠµë‹ˆê¹Œ?")){
        resetAll();
      }
    });

    // ===== ì´ˆê¸° í‘œì‹œ =====
    const now = new Date();
    $("updatedAt").textContent = `ë°©ë¬¸ ì‹œê°„: ${formatTime(now)}`;
    renderHistory();
  </script>
</body>
</html>